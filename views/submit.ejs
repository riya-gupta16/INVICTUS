
<!DOCTYPE html>
<html>
<head>
  <title>Waste Submission</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 40px;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    .container {
      width: 400px;
      text-align: left;
    }
    h3 {
      margin-bottom: 15px;
      text-align: center;
    }
    .flex-container {
      display: flex;
      gap: 20px;
      justify-content: center;
      margin: 20px 0;
    }
    .flex-container label {
      padding: 10px 20px;
      border: 1px solid #ccc;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1em;
    }
    .mcq label {
      display: block;
      margin: 8px 0;
      cursor: pointer;
    }
    .step {
      display: none;
    }
    .step.active {
      display: block;
    }
    .btn-right {
      display: flex;
      justify-content: flex-end;
      margin-top: 20px;
    }
    button {
      padding: 8px 16px;
      font-size: 1em;
      cursor: pointer;
    }
  </style>
</head>
<body>

<div class="container">
  <form id="wasteForm" method="POST" action="/waste/submit">
    <!-- Step 1: Category -->
    <div id="step1" class="step active">
      <h3>Select Category</h3>
      <div class="flex-container">
        <label><input type="radio" name="category" value="plastic" required> Plastic</label>
        <label><input type="radio" name="category" value="paper" required> Papers</label>
        <label><input type="radio" name="category" value="wires" required> Wires</label>
      </div>
      <div class="btn-right">
        <button type="button" onclick="nextStep(2)">Next</button>
      </div>
    </div>

    <!-- Step 2: Product -->
    <div id="step2" class="step">
      <h3>Select Product</h3>
      <div id="productOptions" class="mcq"></div>
      <div class="btn-right">
        <button type="button" onclick="nextStep(3)">Next</button>
      </div>
    </div>

    <!-- Step 3: Condition -->
    <div id="step3" class="step">
      <h3>Select Condition</h3>
      <div id="conditionOptions" class="mcq"></div>
      <div class="btn-right">
        <button type="button" onclick="nextStep(4)">Next</button>
      </div>
    </div>

    <!-- Step 4: Weight -->
    <div id="step4" class="step">
      <h3>Choose Estimated Weight</h3>
      <div id="weightOptions" class="mcq"></div>
      <div class="btn-right">
        <button type="submit">Submit</button>
      </div>
    </div>
  </form>
</div>

<script>
function nextStep(step) {
  document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
  document.getElementById('step' + step).classList.add('active');

  if (step === 2) showProductOptions();
  if (step === 3) showConditionOptions();
  if (step === 4) showWeightOptions();
}

function showProductOptions() {
  const category = document.querySelector('input[name="category"]:checked')?.value;
  let html = "";

  if (category === "plastic") {
    html = `
      <label><input type="radio" name="product" value="drink_bottles" required form="wasteForm"> Drink Bottles</label>
      <label><input type="radio" name="product" value="jars" required form="wasteForm"> Jars/Containers</label>
      <label><input type="radio" name="product" value="mixed" required form="wasteForm"> Mixed Plastics</label>
    `;
  } else if (category === "paper") {
    html = `
      <label><input type="radio" name="product" value="newspapers" required form="wasteForm"> Newspapers & Magazines</label>
      <label><input type="radio" name="product" value="notebooks" required form="wasteForm"> Notebooks</label>
      <label><input type="radio" name="product" value="cardboard" required form="wasteForm"> Cardboard & Cartons</label>
    `;
  } else if (category === "wires") {
    html = `
      <label><input type="radio" name="product" value="fairy_lights" required form="wasteForm"> Fairy Lights</label>
      <label><input type="radio" name="product" value="cables" required form="wasteForm"> Cables</label>
    `;
  }

  document.getElementById("productOptions").innerHTML = html;
}

function showConditionOptions() {
  const category = document.querySelector('input[name="category"]:checked')?.value;
  const product = document.querySelector('input[name="product"]:checked')?.value;
  let html = "";

  if (category === "plastic") {
    html = `
      <label><input type="radio" name="subOption" value="${product}_barely_used" required form="wasteForm"> Barely Used</label>
      <label><input type="radio" name="subOption" value="${product}_slightly_damaged" required form="wasteForm"> Slightly Damaged</label>
      <label><input type="radio" name="subOption" value="${product}_heavily_damaged" required form="wasteForm"> Heavily Damaged</label>
    `;
  } else if (category === "wires") {
    html = `
      <label><input type="radio" name="subOption" value="${product}_clean" required form="wasteForm"> Clean</label>
      <label><input type="radio" name="subOption" value="${product}_tangled" required form="wasteForm"> Tangled</label>
    `;
  } else {
    nextStep(4);
    return;
  }

  document.getElementById("conditionOptions").innerHTML = html;
}

function showWeightOptions() {
  const category = document.querySelector('input[name="category"]:checked')?.value;
  let html = "";

  if (category === "plastic") {
    html = `
      <label><input type="radio" name="weightRange" value="2-6" required form="wasteForm"> 2–6 kg</label>
      <label><input type="radio" name="weightRange" value="6-10" required form="wasteForm"> 6–10 kg</label>
      <label><input type="radio" name="weightRange" value="10-12" required form="wasteForm"> 10–12 kg</label>
      <label><input type="radio" name="weightRange" value="other" required form="wasteForm"> Other</label>
    `;
  } else if (category === "paper") {
    html = `
      <label><input type="radio" name="weightRange" value="5-10" required form="wasteForm"> 5–10 kg</label>
      <label><input type="radio" name="weightRange" value="10-20" required form="wasteForm"> 10–20 kg</label>
      <label><input type="radio" name="weightRange" value="20-30" required form="wasteForm"> 20–30 kg</label>
      <label><input type="radio" name="weightRange" value="other" required form="wasteForm"> Other</label>
    `;
  } else if (category === "wires") {
    html = `
      <label><input type="radio" name="weightRange" value="2-4" required form="wasteForm"> 2–4 kg</label>
      <label><input type="radio" name="weightRange" value="4-6" required form="wasteForm"> 4–6 kg</label>
      <label><input type="radio" name="weightRange" value="6-8" required form="wasteForm"> 6–8 kg</label>
      <label><input type="radio" name="weightRange" value="other" required form="wasteForm"> Other</label>
    `;
  }

  document.getElementById("weightOptions").innerHTML = html;
}
</script>

</body>
</html>
